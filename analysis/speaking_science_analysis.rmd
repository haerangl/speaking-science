---
title: "Speaking Science"
subtitle: "W241 Final Project"
author: "Haerang Lee, Aris F, Mumin Khan"
date: "March 17th, 2020"
output:
  pdf_document: 
    toc: true
    toc_depth: 3
  github_document:
    toc: true
    toc_depth: 3
---


```{r, include=FALSE} 
# load packages 
library(data.table)
library(foreign)
library(lmtest)
library(sandwich)
library(stargazer)
```

```{r}
d <- fread('speaking_science_data_03-24_clean.csv')
head(d)
```

# Functions 
```{r, include=FALSE}
```

# Simple Linear Regression 

```{r}
mod <- lm(questions_correct ~ treatment + time_read_article, data=d)
summary(mod)

hist(d[treatment == 0, questions_correct,], col=rgb(1,0,0,0.5), breaks=seq(-1,6, by=1))
hist(d[treatment == 1, questions_correct,], col=rgb(0,0,1,0.5), breaks=seq(-1,6, by=1), add = T)
box()

stargazer(mod, type = "text")
```


```{r}
mod <- lm(credibility ~ treatment, data=d)
summary(mod)

hist(d[treatment == 0, credibility,], col=rgb(1,0,0,0.5), breaks=seq(1,7, by=1))
hist(d[treatment == 1, credibility,], col=rgb(0,0,1,0.5), breaks=seq(1,7, by=1), add = T)
box()
```


```{r}
mod <- lm(importance ~ treatment, data=d)
summary(mod)

hist(d[treatment == 0, importance,], col=rgb(1,0,0,0.5), breaks=seq(1,7, by=1))
hist(d[treatment == 1, importance,], col=rgb(0,0,1,0.5), breaks=seq(1,7, by=1), add = T)
box()
```


```{r}
mod <- lm(time_read_article ~ treatment, data=d)
summary(mod)

d1 <- density(d[treatment == 0, time_read_article,])
d2 <- density(d[treatment == 1, time_read_article,])

plot(d1, col=rgb(1,0,0,0.5))
lines(d2, col=rgb(0,0,1,0.5))
```

```{r}
mod <- lm(donation ~ treatment, data=d)
summary(mod)

d1 <- density(d[treatment == 0, donation,])
d2 <- density(d[treatment == 1, donation,])

plot(d1, col=rgb(1,0,0,0.5))
lines(d2, col=rgb(0,0,1,0.5))
```

# Randomization Inference 

Testing the sharp null hypothesis that the treatment has no effect for anyone. 

```{r}
#TODO
```



